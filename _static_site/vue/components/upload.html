<!DOCTYPE html><html lang="en" class="nprogress-busy"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload 上传 | TDesign</title>
    <meta name="description" content="Vue UI Component">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <link rel="mask-icon" href="/favicon.svg" color="#FFFFFF">
    <!--[if IE]>
    <style>
      #app { display: none; }
    </style>
    <![endif]-->
    <script type="module" crossorigin="" src="/assets/index.cb48b3a8.js"></script>
    <link rel="modulepreload" href="/assets/vendor.003fbf3d.js">
    <link rel="stylesheet" href="/assets/vendor.0c511dbe.css">
    <link rel="stylesheet" href="/assets/index.b9681577.css">
  <link rel="manifest" href="/manifest.webmanifest"><link rel="modulepreload" as="script" crossorigin="" href="/assets/upload.0cee2f1a.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/single-input.568f110a.js"><link rel="stylesheet" href="/assets/single-input.0d72002e.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/prism.167dcd3a.js"><script async="" id="horizon-tracker" type="text/javascript" src="https://horizon-assets.qq.com/analytics.js" data-account="tdesign"></script></head>
  <body>
    <!--[if IE]>
      <h1 style="position: absolute; width: 100%; text-align:center; top: 45%">建议使用 <a href="https://www.google.cn/chrome/">Chrome</a></h1>
    <![endif]-->
    <td-horizon data-account="tdesign"></td-horizon>
    <td-aegis aegis-id="rDISNMyXgKnpdSRvul"></td-aegis>
    <div><td-doc-layout direction="row"><td-header slot="header" platform="web" framework="vue"><td-doc-search slot="search">
        <style>.TDesign-doc-search {
  position: relative;
  width: 200px;
  height: 32px;
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
}
.TDesign-doc-search__icon {
  position: absolute;
  right: 8px;
  top: 50%;
  width: 20px;
  height: 20px;
  margin-top: -10px;
  color: var(--text-secondary);
}
.TDesign-doc-search__inner {
  width: 100%;
  height: 100%;
  padding: 4px 36px 4px 8px;
  box-sizing: border-box;
  color: var(--text-secondary);
  border-radius: var(--border-radius);
  line-height: 22px;
  font-size: 14px;
  border: 1px solid var(--component-border);
  transition: all 0.2s linear;
  outline: none;
  background: transparent;
}
.TDesign-doc-search__inner::placeholder {
  line-height: 22px;
}
.TDesign-doc-search__inner:hover {
  border-color: var(--brand-main);
}
.TDesign-doc-search__inner:focus {
  border-color: var(--brand-main);
  box-shadow: 0 0 0 2px var(--brand-main-focus);
}
</style>
        <style>/* https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.css */
/* Main dropdown wrapper */
.algolia-autocomplete {
  width: 100%;
  height: 100%;
}
.algolia-autocomplete .ds-dropdown-menu {
  width: 480px;
  top: -6px;
  border-radius: 6px;
  margin: 8px 0 0;
  padding: 0;
  text-align: left;
  height: auto;
  position: relative;
  border: 0;
  z-index: 999;
  max-width: 600px;
  min-width: 500px;
  box-shadow: var(--popup-box-shadow);
  backdrop-filter: blur(10px);
  background-color: var(--bg-color-container-transparent);
}
.algolia-autocomplete .ds-dropdown-menu .ds-suggestions {
  position: relative;
  z-index: 1000;
  border-bottom: 1px solid var(--component-stroke);
  padding: 8px;
}
.algolia-autocomplete .ds-dropdown-menu [class^="ds-dataset-"] {
  position: relative;
  border-radius: 6px;
  overflow: auto;
  border: 1px solid var(--component-border);
}
.algolia-autocomplete .ds-dropdown-menu * {
  box-sizing: border-box;
}
.algolia-autocomplete .algolia-docsearch-suggestion {
  display: block;
  position: relative;
  color: var(--text-primary);
  overflow: hidden;
}
/* Main category (eg. Getting Started) */
.algolia-autocomplete .algolia-docsearch-suggestion--category-header {
  display: none;
}
/* Category (eg. Downloads) */
.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column {
  float: left;
  width: 30%;
  text-align: right;
  position: relative;
  padding: 8px;
  color: var(--text-secondary);
  font-size: 14px;
  word-wrap: break-word;
}
.algolia-autocomplete .algolia-docsearch-suggestion--content {
  display: block;
  float: right;
  width: 70%;
  position: relative;
  padding: 8px 16px;
  cursor: pointer;
  border-radius: 0 3px 3px 0;
}
.algolia-autocomplete .algolia-docsearch-suggestion--content .algolia-docsearch-suggestion--subcategory-inline {
  display: none;
}
.algolia-autocomplete .algolia-docsearch-suggestion--content:before {
  content: "";
  position: absolute;
  display: block;
  top: 0;
  height: 100%;
  width: 1px;
  background: var(--component-border);
  left: -1px;
}
.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion.suggestion-layout-simple,
.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--content {
  background: var(--bg-color-container-hover);
  transition: all 0.2s linear;
}
/* Title (eg. Bootstrap CDN) */
.algolia-autocomplete .algolia-docsearch-suggestion--title {
  font-weight: bold;
  color: var(--text-primary);
  margin-bottom: 0;
  font-size: 16px;
  line-height: 24px;
}
.algolia-autocomplete .algolia-docsearch-suggestion--title + .algolia-docsearch-suggestion--text {
  margin-top: 4px;
}
/* Description description (eg. Bootstrap currently works...) */
.algolia-autocomplete .algolia-docsearch-suggestion--text {
  font-size: 14px;
  line-height: 22px;
  color: var(--text-secondary);
}
/* Highlighted text */
.algolia-autocomplete .algolia-docsearch-suggestion--highlight {
  padding: 1px 4px;
  border-radius: 3px;
  color: var(--brand-main);
  background-color: var(--brand-main-light);
  text-decoration: underline;
  text-decoration-color: var(--brand-main);
}
.algolia-autocomplete .algolia-docsearch-suggestion--no-results {
  width: 100%;
  padding: 8px 0;
  text-align: center;
  font-size: 14px;
}
.algolia-autocomplete .algolia-docsearch-footer {
  width: 134px;
  height: 26px;
  z-index: 2000;
  margin: 4px 8px;
  float: right;
  font-size: 0;
  line-height: 0;
}
.algolia-autocomplete .algolia-docsearch-footer--logo {
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='168' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M78.988.938h16.594a2.968 2.968 0 0 1 2.966 2.966V20.5a2.967 2.967 0 0 1-2.966 2.964H78.988a2.967 2.967 0 0 1-2.966-2.964V3.897A2.961 2.961 0 0 1 78.988.938zm41.937 17.866c-4.386.02-4.386-3.54-4.386-4.106l-.007-13.336 2.675-.424v13.254c0 .322 0 2.358 1.718 2.364v2.248zm-10.846-2.18c.821 0 1.43-.047 1.855-.129v-2.719a6.334 6.334 0 0 0-1.574-.199 5.7 5.7 0 0 0-.897.069 2.699 2.699 0 0 0-.814.24c-.24.116-.439.28-.582.491-.15.212-.219.335-.219.656 0 .628.219.991.616 1.23s.938.362 1.615.362zm-.233-9.7c.883 0 1.629.109 2.231.328.602.218 1.088.525 1.444.915.363.396.609.922.76 1.483.157.56.232 1.175.232 1.85v6.874a32.5 32.5 0 0 1-1.868.314c-.834.123-1.772.185-2.813.185-.69 0-1.327-.069-1.895-.198a4.001 4.001 0 0 1-1.471-.636 3.085 3.085 0 0 1-.951-1.134c-.226-.465-.343-1.12-.343-1.803 0-.656.13-1.073.384-1.525a3.24 3.24 0 0 1 1.047-1.106c.445-.287.95-.492 1.532-.615a8.8 8.8 0 0 1 1.82-.185 8.404 8.404 0 0 1 1.972.24v-.438c0-.307-.035-.6-.11-.874a1.88 1.88 0 0 0-.384-.73 1.784 1.784 0 0 0-.724-.493 3.164 3.164 0 0 0-1.143-.205c-.616 0-1.177.075-1.69.164a7.735 7.735 0 0 0-1.26.307l-.321-2.192c.335-.117.834-.233 1.478-.349a10.98 10.98 0 0 1 2.073-.178zm52.842 9.626c.822 0 1.43-.048 1.854-.13V13.7a6.347 6.347 0 0 0-1.574-.199c-.294 0-.595.021-.896.069a2.7 2.7 0 0 0-.814.24 1.46 1.46 0 0 0-.582.491c-.15.212-.218.335-.218.656 0 .628.218.991.615 1.23.404.245.938.362 1.615.362zm-.226-9.694c.883 0 1.629.108 2.231.327.602.219 1.088.526 1.444.915.355.39.609.923.759 1.483a6.8 6.8 0 0 1 .233 1.852v6.873c-.41.088-1.034.19-1.868.314-.834.123-1.772.184-2.813.184-.69 0-1.327-.068-1.895-.198a4.001 4.001 0 0 1-1.471-.635 3.085 3.085 0 0 1-.951-1.134c-.226-.465-.343-1.12-.343-1.804 0-.656.13-1.073.384-1.524.26-.45.608-.82 1.047-1.107.445-.286.95-.491 1.532-.614a8.803 8.803 0 0 1 2.751-.13c.329.034.671.096 1.04.185v-.437a3.3 3.3 0 0 0-.109-.875 1.873 1.873 0 0 0-.384-.731 1.784 1.784 0 0 0-.724-.492 3.165 3.165 0 0 0-1.143-.205c-.616 0-1.177.075-1.69.164a7.75 7.75 0 0 0-1.26.307l-.321-2.193c.335-.116.834-.232 1.478-.348a11.633 11.633 0 0 1 2.073-.177zm-8.034-1.271a1.626 1.626 0 0 1-1.628-1.62c0-.895.725-1.62 1.628-1.62.904 0 1.63.725 1.63 1.62 0 .895-.733 1.62-1.63 1.62zm1.348 13.22h-2.689V7.27l2.69-.423v11.956zm-4.714 0c-4.386.02-4.386-3.54-4.386-4.107l-.008-13.336 2.676-.424v13.254c0 .322 0 2.358 1.718 2.364v2.248zm-8.698-5.903c0-1.156-.253-2.119-.746-2.788-.493-.677-1.183-1.01-2.067-1.01-.882 0-1.574.333-2.065 1.01-.493.676-.733 1.632-.733 2.788 0 1.168.246 1.953.74 2.63.492.683 1.183 1.018 2.066 1.018.882 0 1.574-.342 2.067-1.019.492-.683.738-1.46.738-2.63zm2.737-.007c0 .902-.13 1.584-.397 2.33a5.52 5.52 0 0 1-1.128 1.906 4.986 4.986 0 0 1-1.752 1.223c-.685.286-1.739.45-2.265.45-.528-.006-1.574-.157-2.252-.45a5.096 5.096 0 0 1-1.744-1.223c-.487-.527-.863-1.162-1.137-1.906a6.345 6.345 0 0 1-.41-2.33c0-.902.123-1.77.397-2.508a5.554 5.554 0 0 1 1.15-1.892 5.133 5.133 0 0 1 1.75-1.216c.679-.287 1.425-.423 2.232-.423.808 0 1.553.142 2.237.423a4.88 4.88 0 0 1 1.753 1.216 5.644 5.644 0 0 1 1.135 1.892c.287.738.431 1.606.431 2.508zm-20.138 0c0 1.12.246 2.363.738 2.882.493.52 1.13.78 1.91.78.424 0 .828-.062 1.204-.178.377-.116.677-.253.917-.417V9.33a10.476 10.476 0 0 0-1.766-.226c-.971-.028-1.71.37-2.23 1.004-.513.636-.773 1.75-.773 2.788zm7.438 5.274c0 1.824-.466 3.156-1.404 4.004-.936.846-2.367 1.27-4.296 1.27-.705 0-2.17-.137-3.34-.396l.431-2.118c.98.205 2.272.26 2.95.26 1.074 0 1.84-.219 2.299-.656.459-.437.684-1.086.684-1.948v-.437a8.07 8.07 0 0 1-1.047.397c-.43.13-.93.198-1.492.198-.739 0-1.41-.116-2.018-.349a4.206 4.206 0 0 1-1.567-1.025c-.431-.45-.774-1.017-1.013-1.694-.24-.677-.363-1.885-.363-2.773 0-.834.13-1.88.384-2.577.26-.696.629-1.298 1.129-1.796.493-.498 1.095-.881 1.8-1.162a6.605 6.605 0 0 1 2.428-.457c.87 0 1.67.109 2.45.24.78.129 1.444.265 1.985.415V18.17z' fill='%235468FF'/%3E%3Cpath d='M6.972 6.677v1.627c-.712-.446-1.52-.67-2.425-.67-.585 0-1.045.13-1.38.391a1.24 1.24 0 0 0-.502 1.03c0 .425.164.765.494 1.02.33.256.835.532 1.516.83.447.192.795.356 1.045.495.25.138.537.332.862.582.324.25.563.548.718.894.154.345.23.741.23 1.188 0 .947-.334 1.691-1.004 2.234-.67.542-1.537.814-2.601.814-1.18 0-2.16-.229-2.936-.686v-1.708c.84.628 1.814.942 2.92.942.585 0 1.048-.136 1.388-.407.34-.271.51-.646.51-1.125 0-.287-.1-.55-.302-.79-.203-.24-.42-.42-.655-.542-.234-.123-.585-.29-1.053-.503a61.27 61.27 0 0 1-.582-.271 13.67 13.67 0 0 1-.55-.287 4.275 4.275 0 0 1-.567-.351 6.92 6.92 0 0 1-.455-.4c-.18-.17-.31-.34-.39-.51-.08-.17-.155-.37-.224-.598a2.553 2.553 0 0 1-.104-.742c0-.915.333-1.638.998-2.17.664-.532 1.523-.798 2.576-.798.968 0 1.793.17 2.473.51zm7.468 5.696v-.287c-.022-.607-.187-1.088-.495-1.444-.309-.357-.75-.535-1.324-.535-.532 0-.99.194-1.373.583-.382.388-.622.949-.717 1.683h3.909zm1.005 2.792v1.404c-.596.34-1.383.51-2.362.51-1.255 0-2.255-.377-3-1.132-.744-.755-1.116-1.744-1.116-2.968 0-1.297.34-2.316 1.021-3.055.68-.74 1.548-1.11 2.6-1.11 1.033 0 1.852.323 2.458.966.606.644.91 1.572.91 2.784 0 .33-.033.676-.096 1.038h-5.314c.107.702.405 1.239.894 1.611.49.372 1.106.558 1.85.558.862 0 1.58-.202 2.155-.606zm6.605-1.77h-1.212c-.596 0-1.045.116-1.349.35-.303.234-.454.532-.454.894 0 .372.117.664.35.877.235.213.575.32 1.022.32.51 0 .912-.142 1.204-.424.293-.281.44-.651.44-1.108v-.91zm-4.068-2.554V9.325c.627-.361 1.457-.542 2.489-.542 2.116 0 3.175 1.026 3.175 3.08V17h-1.548v-.957c-.415.68-1.143 1.02-2.186 1.02-.766 0-1.38-.22-1.843-.661-.462-.442-.694-1.003-.694-1.684 0-.776.293-1.38.878-1.81.585-.431 1.404-.647 2.457-.647h1.34V11.8c0-.554-.133-.971-.399-1.253-.266-.282-.707-.423-1.324-.423a4.07 4.07 0 0 0-2.345.718zm9.333-1.93v1.42c.394-1 1.101-1.5 2.123-1.5.148 0 .313.016.494.048v1.531a1.885 1.885 0 0 0-.75-.143c-.542 0-.989.24-1.34.718-.351.479-.527 1.048-.527 1.707V17h-1.563V8.91h1.563zm5.01 4.084c.022.82.272 1.492.75 2.019.479.526 1.15.79 2.01.79.639 0 1.235-.176 1.788-.527v1.404c-.521.319-1.186.479-1.995.479-1.265 0-2.276-.4-3.031-1.197-.755-.798-1.133-1.792-1.133-2.984 0-1.16.38-2.151 1.14-2.975.761-.825 1.79-1.237 3.088-1.237.702 0 1.346.149 1.93.447v1.436a3.242 3.242 0 0 0-1.77-.495c-.84 0-1.513.266-2.019.798-.505.532-.758 1.213-.758 2.042zM40.24 5.72v4.579c.458-1 1.293-1.5 2.505-1.5.787 0 1.42.245 1.899.734.479.49.718 1.17.718 2.042V17h-1.564v-5.106c0-.553-.14-.98-.422-1.284-.282-.303-.652-.455-1.11-.455-.531 0-1.002.202-1.411.606-.41.405-.615 1.022-.615 1.851V17h-1.563V5.72h1.563zm14.966 10.02c.596 0 1.096-.253 1.5-.758.404-.506.606-1.157.606-1.955 0-.915-.202-1.62-.606-2.114-.404-.495-.92-.742-1.548-.742-.553 0-1.05.224-1.491.67-.442.447-.662 1.133-.662 2.058 0 .958.212 1.67.638 2.138.425.469.946.703 1.563.703zM53.004 5.72v4.42c.574-.894 1.388-1.341 2.44-1.341 1.022 0 1.857.383 2.506 1.149.649.766.973 1.781.973 3.047 0 1.138-.309 2.109-.925 2.912-.617.803-1.463 1.205-2.537 1.205-1.075 0-1.894-.447-2.457-1.34V17h-1.58V5.72h1.58zm9.908 11.104l-3.223-7.913h1.739l1.005 2.632 1.26 3.415c.096-.32.48-1.458 1.15-3.415l.909-2.632h1.66l-2.92 7.866c-.777 2.074-1.963 3.11-3.559 3.11a2.92 2.92 0 0 1-.734-.079v-1.34c.17.042.351.064.543.064 1.032 0 1.755-.57 2.17-1.708z' fill='%235D6494'/%3E%3Cpath d='M89.632 5.967v-.772a.978.978 0 0 0-.978-.977h-2.28a.978.978 0 0 0-.978.977v.793c0 .088.082.15.171.13a7.127 7.127 0 0 1 1.984-.28c.65 0 1.295.088 1.917.259.082.02.164-.04.164-.13m-6.248 1.01l-.39-.389a.977.977 0 0 0-1.382 0l-.465.465a.973.973 0 0 0 0 1.38l.383.383c.062.061.15.047.205-.014.226-.307.472-.601.746-.874.281-.28.568-.526.883-.751.068-.042.075-.137.02-.2m4.16 2.453v3.341c0 .096.104.165.192.117l2.97-1.537c.068-.034.089-.117.055-.184a3.695 3.695 0 0 0-3.08-1.866c-.068 0-.136.054-.136.13m0 8.048a4.489 4.489 0 0 1-4.49-4.482 4.488 4.488 0 0 1 4.49-4.482 4.488 4.488 0 0 1 4.489 4.482 4.484 4.484 0 0 1-4.49 4.482m0-10.85a6.363 6.363 0 1 0 0 12.729 6.37 6.37 0 0 0 6.372-6.368 6.358 6.358 0 0 0-6.371-6.36' fill='%23FFF'/%3E%3C/g%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 50%;
  background-size: 100%;
  overflow: hidden;
  text-indent: -9000px;
  width: 100%;
  height: 100%;
  display: block;
}
</style>
        <div class="TDesign-doc-search">
          <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input id="TDSearch" class="TDesign-doc-search__inner ds-input" placeholder="搜索" type="text" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: &quot;system-ui&quot;, -apple-system, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-1"></div></span></span>
          <span class="TDesign-doc-search__icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M8.125 2.5C5.0184 2.5 2.5 5.0184 2.5 8.125C2.5 11.2316 5.0184 13.75 8.125 13.75C9.22568 13.75 10.2525 13.4339 11.1197 12.8874L15.8839 17.6517L16.7678 16.7678L12.1025 12.1025C13.1204 11.0846 13.75 9.6783 13.75 8.125C13.75 5.0184 11.2316 2.5 8.125 2.5ZM8.125 3.75C10.5412 3.75 12.5 5.70875 12.5 8.125C12.5 10.5412 10.5412 12.5 8.125 12.5C5.70875 12.5 3.75 10.5412 3.75 8.125C3.75 5.70875 5.70875 3.75 8.125 3.75Z"></path>
</svg>
</span>
        </div>
      </td-doc-search></td-header><td-doc-aside title="Vue for Web"><div class="t-select__wrap" slot="extra"><div class="t-select t-size-m t-select__popup-reference"><span class="t-tag t-tag--default t-size-m t-tag--dark" style="display: none;">+0</span><span class="t-select__single" title="0.35.0">0.35.0</span><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-fake-arrow t-select__right-icon"><path d="M3.75 5.7998L7.99274 10.0425L12.2361 5.79921" stroke="black" stroke-opacity="0.9" stroke-width="1.3"></path></svg></div></div></td-doc-aside><td-doc-content page-status="show" platform="web" style="visibility: visible;"><td-doc-header slot="doc-header" spline="form" platform="web"><td-doc-badge slot="badge" label="coverage" message="21.52%"></td-doc-badge><h1 id="__td_doc_title__">Upload 上传</h1></td-doc-header><td-doc-tabs tab="demo"></td-doc-tabs><div><div name="DEMO"><nav class="tdesign-toc_container"><ol class="tdesign-toc_list"><li class="tdesign-toc_list_item"><a href="#基础上传" class="tdesign-toc_list_item_a">基础上传</a></li><li class="tdesign-toc_list_item"><a href="#拖拽上传" class="tdesign-toc_list_item_a">拖拽上传</a></li><li class="tdesign-toc_list_item"><a href="#图片上传" class="tdesign-toc_list_item_a">图片上传</a></li><li class="tdesign-toc_list_item"><a href="#批量上传" class="tdesign-toc_list_item_a">批量上传</a><ol class="tdesign-toc_list"></ol></li><li class="tdesign-toc_list_item"><a href="#自定义上传方法" class="tdesign-toc_list_item_a">自定义上传方法</a></li><li class="tdesign-toc_list_item"><a href="#自定义风格上传" class="tdesign-toc_list_item_a">自定义风格上传</a></li><li class="tdesign-toc_list_item"><a href="#自定义拖拽上传" class="tdesign-toc_list_item_a">自定义拖拽上传</a></li><li class="tdesign-toc_list_item"><a href="#输入框文件上传" class="tdesign-toc_list_item_a">输入框文件上传</a></li></ol></nav><h3 id="基础上传">基础上传 <a href="#基础上传" class="header-anchor"></a></h3><p><code>action</code> 用于定义上传接口地址。<code>format</code> 用于格式化上传参数。<code>formatResponse</code> 用于格式化返回值，如果返回值中的 <code>error</code> 为真，则表示上传失败。</p><div class="tdesign-demo-wrapper tdesign-demo-item--upload-base tdesign-demo-item--upload"><td-doc-demo code="<template>
  <!-- :sizeLimit=&quot;1024&quot; 默认单位为：KB 。错误提示为 图片大小不能超过 {sizeLimit} KB-->
  <!-- :sizeLimit=&quot;{ size: 2, unit: 'MB' }&quot; -->
  <!-- :sizeLimit=&quot;{ size: 2, unit: 'MB', message: '图片太大' }&quot; -->
  <!-- :sizeLimit=&quot;{ size: 2, unit: 'MB', message: '图片太大，不能超过 {sizeLimit} MB' }&quot; -->

  <!-- 上传接口默认只传一个参数，如果希望自定义参数，可以使用 format 方法格式化参数-->
  <t-upload
    v-model=&quot;files&quot;
    action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
    tips=&quot;上传文件大小在 5M 以内&quot;
    :sizeLimit=&quot;{ size: 5, unit: 'MB' }&quot;
    :format-response=&quot;formatResponse&quot;
    @fail=&quot;handleFail&quot;
  ></t-upload>
</template>
<script>
export default {
  data() {
    return {
      files: [],
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
    // 用于格式化接口响应值，error 会被用于上传失败的提示文字；url 表示文件/图片地址
    // error 为真时，组件会判定为上传失败
    formatResponse(res) {
      if (!res.url) {
        return { error: '上传失败，请重试' };
      }
      return { ...res, url: res.url };
    },
  },
};
</script>
" demo-name="base" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <!-- :sizeLimit=&quot;1024&quot; 默认单位为：KB 。错误提示为 图片大小不能超过 {sizeLimit} KB-->
  <!-- :sizeLimit=&quot;{ size: 2, unit: 'MB' }&quot; -->
  <!-- :sizeLimit=&quot;{ size: 2, unit: 'MB', message: '图片太大' }&quot; -->
  <!-- :sizeLimit=&quot;{ size: 2, unit: 'MB', message: '图片太大，不能超过 {sizeLimit} MB' }&quot; -->

  <!-- 上传接口默认只传一个参数，如果希望自定义参数，可以使用 format 方法格式化参数-->
  <t-upload
    v-model=&quot;files&quot;
    action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
    tips=&quot;上传文件大小在 5M 以内&quot;
    :sizeLimit=&quot;{ size: 5, unit: 'MB' }&quot;
    :format-response=&quot;formatResponse&quot;
    @fail=&quot;handleFail&quot;
  ></t-upload>
</template>
<script>
export default {
  data() {
    return {
      files: [],
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
    // 用于格式化接口响应值，error 会被用于上传失败的提示文字；url 表示文件/图片地址
    // error 为真时，组件会判定为上传失败
    formatResponse(res) {
      if (!res.url) {
        return { error: '上传失败，请重试' };
      }
      return { ...res, url: res.url };
    },
  },
};
</script>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="t-upload"><input type="file" accept="" hidden="hidden"><div class="t-upload__single t-upload__single-file"><div class="t-upload__trigger"><button type="button" class="t-button t-size-m t-button--variant-outline t-button--theme-default"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-upload"><path fill="currentColor" d="M3.74 6.68L7.5 2.9v8.59h1V2.91l3.76 3.77.71-.7-4.62-4.63a.5.5 0 00-.7 0L3.03 5.97l.7.7z" fill-opacity="0.9"></path><path fill="currentColor" d="M2 11v2a1 1 0 001 1h10a1 1 0 001-1v-2h-1v2H3v-2H2z" fill-opacity="0.9"></path></svg><span class="t-button__text">点击上传</span></button></div></div><small class="t-upload__tips t-size-s">上传文件大小在 5M 以内</small></div></div></td-doc-demo></div><h3 id="拖拽上传">拖拽上传 <a href="#拖拽上传" class="header-anchor"></a></h3><p>支持拖拽文件到指定区域触发上传。</p><div class="tdesign-demo-wrapper tdesign-demo-item--upload-draggable tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;tdesign-demo-block-column-large&quot;>
    <div class=&quot;tdesign-demo-block-column&quot;>
      <div>是否自动上传：<t-switch v-model=&quot;autoUpload&quot;></t-switch></div>
      <div>
        <t-radio-group variant=&quot;default-filled&quot; v-model=&quot;display&quot;>
          <t-radio-button value=&quot;file&quot;>文件拖拽上传</t-radio-button>
          <t-radio-button value=&quot;image&quot;>图片拖拽上传</t-radio-button>
        </t-radio-group>
      </div>
    </div>

    <!-- data 表示传递给上传接口的额外数据；如果有更复杂的数据场景传递，请使用 format 方法 -->
    <t-upload
      v-model=&quot;files&quot;
      :autoUpload=&quot;autoUpload&quot;
      :theme=&quot;display&quot;
      :data=&quot;{ extra_data: 123, file_name: 'certificate' }&quot;
      draggable
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
    />
  </div>
</template>

<script>
export default {
  data: () => ({
    autoUpload: true,
    display: 'file',
    files: [],
  }),
};
</script>
" demo-name="draggable" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;tdesign-demo-block-column-large&quot;>
    <div class=&quot;tdesign-demo-block-column&quot;>
      <div>是否自动上传：<t-switch v-model=&quot;autoUpload&quot;></t-switch></div>
      <div>
        <t-radio-group variant=&quot;default-filled&quot; v-model=&quot;display&quot;>
          <t-radio-button value=&quot;file&quot;>文件拖拽上传</t-radio-button>
          <t-radio-button value=&quot;image&quot;>图片拖拽上传</t-radio-button>
        </t-radio-group>
      </div>
    </div>

    <!-- data 表示传递给上传接口的额外数据；如果有更复杂的数据场景传递，请使用 format 方法 -->
    <t-upload
      v-model=&quot;files&quot;
      :autoUpload=&quot;autoUpload&quot;
      :theme=&quot;display&quot;
      :data=&quot;{ extra_data: 123, file_name: 'certificate' }&quot;
      draggable
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
    />
  </div>
</template>

<script>
export default {
  data: () => ({
    autoUpload: true,
    display: 'file',
    files: [],
  }),
};
</script>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="tdesign-demo-block-column-large"><div class="tdesign-demo-block-column"><div>是否自动上传：<div class="t-switch t-size-m t-is-checked"><span class="t-switch__handle"></span><div class="t-switch__content t-size-m"></div></div></div><div><div class="t-radio-group t-size-m t-radio-group--filled"><label class="t-radio-button t-is-checked"><input type="radio" class="t-radio-button__former" value="file" name=""><span class="t-radio-button__input"></span><span class="t-radio-button__label">文件拖拽上传</span></label><label class="t-radio-button"><input type="radio" class="t-radio-button__former" value="image" name=""><span class="t-radio-button__input"></span><span class="t-radio-button__label">图片拖拽上传</span></label><div class="t-radio-group__bg-block" style="width: 116px; left: 2px;"></div></div></div></div><div class="t-upload"><input type="file" accept="" hidden="hidden"><div class="t-upload__dragger t-upload__dragger-center"><div class="t-upload__trigger"><div><span class="t-upload--highlight">点击上传</span><span>&nbsp;&nbsp;/&nbsp;&nbsp;拖拽到此区域</span></div></div></div></div></div></div></td-doc-demo></div><h3 id="图片上传">图片上传 <a href="#图片上传" class="header-anchor"></a></h3><p>图片上传成功后，显示预览图片；图片上传失败后，不显示预览图片。</p><p>图片预览地址，默认会读取上传接口返回的 <code>url</code> 字段。如果想要自定义图片预览地址，可以通过 <code>formatResponse</code> 设置。如果接口和<code>formatResponse</code> 没有返回 <code>url</code> 字段，组件会默认填充一个 base64 的预览地址，以便查阅图片。</p><div class="tdesign-demo-wrapper tdesign-demo-item--upload-image tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;tdesign-demo-upload&quot;>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;file1&quot;
        @fail=&quot;handleFail&quot;
        theme=&quot;image&quot;
        tips=&quot;请选择单张图片文件上传（上传成功状态演示）&quot;
        accept=&quot;image/*&quot;
      ></t-upload>
    </div>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;fileFail&quot;
        theme=&quot;image&quot;
        tips=&quot;请选择单张图片文件上传（上传失败状态演示）&quot;
        accept=&quot;image/*&quot;
        :formatResponse=&quot;formatResponse&quot;
      ></t-upload>
    </div>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;file2&quot;
        @fail=&quot;handleFail&quot;
        theme=&quot;image&quot;
        tips=&quot;请选择单张图片文件上传（自定义预览图片地址）&quot;
        accept=&quot;image/*&quot;
        :formatResponse=&quot;formatImgResponse&quot;
      ></t-upload>
    </div>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;files&quot;
        @fail=&quot;handleFail&quot;
        theme=&quot;image&quot;
        tips=&quot;允许选择多张图片文件上传，最多只能上传 3 张图片&quot;
        accept=&quot;image/*&quot;
        multiple
        :max=&quot;3&quot;
      ></t-upload>
    </div>
  </div>
</template>
<script>

export default {
  data() {
    return {
      file1: [],
      file2: [],
      files: [],
      fileFail: [],
    };
  },
  methods: {
    // formatResponse 返回后的 url 优先级高于接口返回的 url
    formatImgResponse() {
      return { url: 'https://tdesign.gtimg.com/site/avatar.jpg' };
    },
    // 一旦 formatResponse 返回值包含 error，便会被组件判定为上传失败
    formatResponse() {
      return { error: '网络异常，图片上传失败' };
    },
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
  },
};
</script>

<style scoped>
.tdesign-demo-upload-item {
  display: inline-block;
  margin-right: 80px;
}
.tdesign-demo-upload-item + .tdesign-demo-upload-item {
  margin-top: 80px;
}
</style>
" demo-name="image" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;tdesign-demo-upload&quot;>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;file1&quot;
        @fail=&quot;handleFail&quot;
        theme=&quot;image&quot;
        tips=&quot;请选择单张图片文件上传（上传成功状态演示）&quot;
        accept=&quot;image/*&quot;
      ></t-upload>
    </div>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;fileFail&quot;
        theme=&quot;image&quot;
        tips=&quot;请选择单张图片文件上传（上传失败状态演示）&quot;
        accept=&quot;image/*&quot;
        :formatResponse=&quot;formatResponse&quot;
      ></t-upload>
    </div>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;file2&quot;
        @fail=&quot;handleFail&quot;
        theme=&quot;image&quot;
        tips=&quot;请选择单张图片文件上传（自定义预览图片地址）&quot;
        accept=&quot;image/*&quot;
        :formatResponse=&quot;formatImgResponse&quot;
      ></t-upload>
    </div>
    <div class=&quot;tdesign-demo-upload-item&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        v-model=&quot;files&quot;
        @fail=&quot;handleFail&quot;
        theme=&quot;image&quot;
        tips=&quot;允许选择多张图片文件上传，最多只能上传 3 张图片&quot;
        accept=&quot;image/*&quot;
        multiple
        :max=&quot;3&quot;
      ></t-upload>
    </div>
  </div>
</template>
<script>

export default {
  data() {
    return {
      file1: [],
      file2: [],
      files: [],
      fileFail: [],
    };
  },
  methods: {
    // formatResponse 返回后的 url 优先级高于接口返回的 url
    formatImgResponse() {
      return { url: 'https://tdesign.gtimg.com/site/avatar.jpg' };
    },
    // 一旦 formatResponse 返回值包含 error，便会被组件判定为上传失败
    formatResponse() {
      return { error: '网络异常，图片上传失败' };
    },
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
  },
};
</script>

<style scoped>
.tdesign-demo-upload-item {
  display: inline-block;
  margin-right: 80px;
}
.tdesign-demo-upload-item + .tdesign-demo-upload-item {
  margin-top: 80px;
}
</style>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div data-v-193eee9a="" class="tdesign-demo-upload"><div data-v-193eee9a="" class="tdesign-demo-upload-item"><div data-v-193eee9a="" class="t-upload"><input type="file" accept="image/*" hidden="hidden"><ul class="t-upload__card" touploadfiles=""><li class="t-upload__card-item t-is--background"><div class="t-upload__card-container t-upload__card-box"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-add"><path fill="currentColor" d="M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z" fill-opacity="0.9"></path></svg><p class="t-size-s">点击上传图片</p></div></li></ul><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div><small class="t-upload__tips t-size-s">请选择单张图片文件上传（上传成功状态演示）</small></div></div><div data-v-193eee9a="" class="tdesign-demo-upload-item"><div data-v-193eee9a="" class="t-upload"><input type="file" accept="image/*" hidden="hidden"><ul class="t-upload__card" touploadfiles=""><li class="t-upload__card-item t-is--background"><div class="t-upload__card-container t-upload__card-box"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-add"><path fill="currentColor" d="M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z" fill-opacity="0.9"></path></svg><p class="t-size-s">点击上传图片</p></div></li></ul><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div><small class="t-upload__tips t-size-s">请选择单张图片文件上传（上传失败状态演示）</small></div></div><div data-v-193eee9a="" class="tdesign-demo-upload-item"><div data-v-193eee9a="" class="t-upload"><input type="file" accept="image/*" hidden="hidden"><ul class="t-upload__card" touploadfiles=""><li class="t-upload__card-item t-is--background"><div class="t-upload__card-container t-upload__card-box"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-add"><path fill="currentColor" d="M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z" fill-opacity="0.9"></path></svg><p class="t-size-s">点击上传图片</p></div></li></ul><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div><small class="t-upload__tips t-size-s">请选择单张图片文件上传（自定义预览图片地址）</small></div></div><div data-v-193eee9a="" class="tdesign-demo-upload-item"><div data-v-193eee9a="" class="t-upload"><input type="file" multiple="multiple" accept="image/*" hidden="hidden"><ul class="t-upload__card" touploadfiles=""><li class="t-upload__card-item t-is--background"><div class="t-upload__card-container t-upload__card-box"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-add"><path fill="currentColor" d="M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z" fill-opacity="0.9"></path></svg><p class="t-size-s">点击上传图片</p></div></li></ul><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div><small class="t-upload__tips t-size-s">允许选择多张图片文件上传，最多只能上传 3 张图片</small></div></div></div></div></td-doc-demo></div><h3 id="批量上传">批量上传 <a href="#批量上传" class="header-anchor"></a></h3><p>批量上传通常作为一个单独的功能出现，上传的内容用表格来承载。由于批量上传需要的时间较长，某些场景下会出现先选择文件，确认后再统一上传的场景。</p><h4 id="批量上传文件">批量上传文件 <a href="#批量上传文件" class="header-anchor"></a></h4><div class="tdesign-demo-wrapper tdesign-demo-item--upload-file-flow-list tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;t-upload__file-flow-demo&quot;>
    <t-upload
      v-model=&quot;files&quot;
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
      placeholder=&quot;支持批量上传文件，文件格式不限，最多只能上传 10 份文件&quot;
      theme=&quot;file-flow&quot;
      multiple
      :auto-upload=&quot;false&quot;
      :max=&quot;10&quot;
    ></t-upload>
  </div>
</template>

<script>
export default {
  name: 'TUploadFileFlow',

  data() {
    return {
      files: [],
    };
  },
};
</script>
" demo-name="file-flow-list" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;t-upload__file-flow-demo&quot;>
    <t-upload
      v-model=&quot;files&quot;
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
      placeholder=&quot;支持批量上传文件，文件格式不限，最多只能上传 10 份文件&quot;
      theme=&quot;file-flow&quot;
      multiple
      :auto-upload=&quot;false&quot;
      :max=&quot;10&quot;
    ></t-upload>
  </div>
</template>

<script>
export default {
  name: 'TUploadFileFlow',

  data() {
    return {
      files: [],
    };
  },
};
</script>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="t-upload__file-flow-demo"><div class="t-upload"><input type="file" multiple="multiple" accept="" hidden="hidden"><div class="t-upload__flow t-upload__flow-file-flow"><div class="t-upload__flow-op"><div class="t-upload__trigger"><button type="button" class="t-button t-size-m t-button--variant-outline t-button--theme-default"><span class="t-button__text">选择文件</span></button></div><small class="t-size-s t-upload__flow-placeholder">支持批量上传文件，文件格式不限，最多只能上传 10 份文件</small></div><table class="t-upload__flow-table"><tr><th>文件名</th><th>大小</th><th>状态</th><th>操作</th></tr><tr><td colspan="4"><div class="t-upload__flow-empty">点击上方“选择文件”或将文件拖拽到此区域</div></td></tr></table><div class="t-upload__flow-bottom"><button type="button" class="t-button t-size-m t-button--variant-base t-button--theme-default"><span class="t-button__text">取消</span></button><button type="button" disabled="disabled" class="t-button t-size-m t-button--variant-base t-button--theme-primary t-is-disabled"><span class="t-button__text">开始上传</span></button></div></div></div></div></div></td-doc-demo></div><h4 id="批量上传图片">批量上传图片 <a href="#批量上传图片" class="header-anchor"></a></h4><div class="tdesign-demo-wrapper tdesign-demo-item--upload-img-flow-list tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;t-upload__img-flow-demo&quot;>
    <t-upload
      v-model=&quot;files&quot;
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
      placeholder=&quot;支持批量上传图片文件&quot;
      theme=&quot;image-flow&quot;
      accept=&quot;image/*&quot;
      multiple
      :auto-upload=&quot;false&quot;
      :max=&quot;8&quot;
    ></t-upload>
  </div>
</template>

<script>
export default {
  name: 'TUploadImageFlow',

  data() {
    return {
      files: [
        // {
        //   url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
        //   name: 'loading.svg',
        // },
      ],
    };
  },

  computed: {},

  watch: {},

  methods: {},
};
</script>

<style></style>
" demo-name="img-flow-list" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;t-upload__img-flow-demo&quot;>
    <t-upload
      v-model=&quot;files&quot;
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
      placeholder=&quot;支持批量上传图片文件&quot;
      theme=&quot;image-flow&quot;
      accept=&quot;image/*&quot;
      multiple
      :auto-upload=&quot;false&quot;
      :max=&quot;8&quot;
    ></t-upload>
  </div>
</template>

<script>
export default {
  name: 'TUploadImageFlow',

  data() {
    return {
      files: [
        // {
        //   url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
        //   name: 'loading.svg',
        // },
      ],
    };
  },

  computed: {},

  watch: {},

  methods: {},
};
</script>

<style></style>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="t-upload__img-flow-demo"><div class="t-upload"><input type="file" multiple="multiple" accept="image/*" hidden="hidden"><div class="t-upload__flow t-upload__flow-image-flow"><div class="t-upload__flow-op"><div class="t-upload__trigger"><button type="button" class="t-button t-size-m t-button--variant-outline t-button--theme-default"><span class="t-button__text">选择文件</span></button></div><small class="t-size-s t-upload__flow-placeholder">支持批量上传图片文件</small></div><div class="t-upload__flow-card-area"><div class="t-upload__flow-empty">点击上方“选择文件”或将文件拖拽到此区域</div></div><div class="t-upload__flow-bottom"><button type="button" class="t-button t-size-m t-button--variant-base t-button--theme-default"><span class="t-button__text">取消</span></button><button type="button" disabled="disabled" class="t-button t-size-m t-button--variant-base t-button--theme-primary t-is-disabled"><span class="t-button__text">开始上传</span></button></div></div><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div></div></div></div></td-doc-demo></div><h3 id="自定义上传方法">自定义上传方法 <a href="#自定义上传方法" class="header-anchor"></a></h3><p>可以使用 <code>requestMethod</code> 自定义上传方法，返回 Promise 对象，resolve 参数中的 <code>status</code> 控制上传成功或失败。</p><div class="tdesign-demo-wrapper tdesign-demo-item--upload-request-method tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;tdesign-demo-block-column-large&quot;>
    <div>
      <t-radio-group variant=&quot;default-filled&quot; v-model=&quot;uploadMethod&quot;>
        <t-radio-button value=&quot;requestSuccessMethod&quot;>上传成功示例</t-radio-button>
        <t-radio-button value=&quot;requestFailMethod&quot;>上传失败示例</t-radio-button>
      </t-radio-group>
    </div>

    <t-upload v-model=&quot;files&quot; :requestMethod=&quot;requestMethod&quot; tips=&quot;自定义上传方法需要返回成功或失败信息&quot;></t-upload>
  </div>
</template>
<script>
/* eslint-disable no-param-reassign */
export default {
  data() {
    return {
      files: [],
      uploadMethod: 'requestSuccessMethod',
    };
  },
  computed: {
    requestMethod() {
      return this[this.uploadMethod];
    },
  },
  watch: {
    // 切换上传示例时，重置 files 数据
    uploadMethod() {
      this.files = [];
    },
  },
  methods: {
    // file 为等待上传的文件信息，用于提供给上传接口。file.raw 表示原始文件
    requestSuccessMethod(file /** UploadFile */) {
      console.log(file, file.raw);
      return new Promise((resolve) => {
        // file.percent 用于控制上传进度，如果不希望显示上传进度，则不对 file.percent 设置值即可。
        // 如果代码规范不能设置 file.percent，也可以设置 this.files
        file.percent = 0;
        const timer = setTimeout(() => {
          // resolve 参数为关键代码
          resolve({ status: 'success', response: { url: 'https://tdesign.gtimg.com/site/avatar.jpg' } });
          file.percent = 100;
          clearTimeout(timer);
        }, 500);
      });
    },
    requestFailMethod(file /** UploadFile */) {
      console.log(file);
      return new Promise((resolve) => {
        // resolve 参数为关键代码
        resolve({ status: 'fail', error: '上传失败，请检查文件是否符合规范' });
      });
    },
  },
};
</script>
" demo-name="request-method" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;tdesign-demo-block-column-large&quot;>
    <div>
      <t-radio-group variant=&quot;default-filled&quot; v-model=&quot;uploadMethod&quot;>
        <t-radio-button value=&quot;requestSuccessMethod&quot;>上传成功示例</t-radio-button>
        <t-radio-button value=&quot;requestFailMethod&quot;>上传失败示例</t-radio-button>
      </t-radio-group>
    </div>

    <t-upload v-model=&quot;files&quot; :requestMethod=&quot;requestMethod&quot; tips=&quot;自定义上传方法需要返回成功或失败信息&quot;></t-upload>
  </div>
</template>
<script>
/* eslint-disable no-param-reassign */
export default {
  data() {
    return {
      files: [],
      uploadMethod: 'requestSuccessMethod',
    };
  },
  computed: {
    requestMethod() {
      return this[this.uploadMethod];
    },
  },
  watch: {
    // 切换上传示例时，重置 files 数据
    uploadMethod() {
      this.files = [];
    },
  },
  methods: {
    // file 为等待上传的文件信息，用于提供给上传接口。file.raw 表示原始文件
    requestSuccessMethod(file /** UploadFile */) {
      console.log(file, file.raw);
      return new Promise((resolve) => {
        // file.percent 用于控制上传进度，如果不希望显示上传进度，则不对 file.percent 设置值即可。
        // 如果代码规范不能设置 file.percent，也可以设置 this.files
        file.percent = 0;
        const timer = setTimeout(() => {
          // resolve 参数为关键代码
          resolve({ status: 'success', response: { url: 'https://tdesign.gtimg.com/site/avatar.jpg' } });
          file.percent = 100;
          clearTimeout(timer);
        }, 500);
      });
    },
    requestFailMethod(file /** UploadFile */) {
      console.log(file);
      return new Promise((resolve) => {
        // resolve 参数为关键代码
        resolve({ status: 'fail', error: '上传失败，请检查文件是否符合规范' });
      });
    },
  },
};
</script>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="tdesign-demo-block-column-large"><div><div class="t-radio-group t-size-m t-radio-group--filled"><label class="t-radio-button t-is-checked"><input type="radio" class="t-radio-button__former" value="requestSuccessMethod" name=""><span class="t-radio-button__input"></span><span class="t-radio-button__label">上传成功示例</span></label><label class="t-radio-button"><input type="radio" class="t-radio-button__former" value="requestFailMethod" name=""><span class="t-radio-button__input"></span><span class="t-radio-button__label">上传失败示例</span></label><div class="t-radio-group__bg-block" style="width: 116px; left: 2px;"></div></div></div><div class="t-upload"><input type="file" accept="" hidden="hidden"><div class="t-upload__single t-upload__single-file"><div class="t-upload__trigger"><button type="button" class="t-button t-size-m t-button--variant-outline t-button--theme-default"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-upload"><path fill="currentColor" d="M3.74 6.68L7.5 2.9v8.59h1V2.91l3.76 3.77.71-.7-4.62-4.63a.5.5 0 00-.7 0L3.03 5.97l.7.7z" fill-opacity="0.9"></path><path fill="currentColor" d="M2 11v2a1 1 0 001 1h10a1 1 0 001-1v-2h-1v2H3v-2H2z" fill-opacity="0.9"></path></svg><span class="t-button__text">点击上传</span></button></div></div><small class="t-upload__tips t-size-s">自定义上传方法需要返回成功或失败信息</small></div></div></div></td-doc-demo></div><h3 id="自定义风格上传">自定义风格上传 <a href="#自定义风格上传" class="header-anchor"></a></h3><div class="tdesign-demo-wrapper tdesign-demo-item--upload-single-custom tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;tdesign-demo-upload&quot;>
    <div>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        :tips=&quot;tips&quot;
        v-model=&quot;files&quot;
        @fail=&quot;handleFail&quot;
        @success=&quot;tips = ''&quot;
        theme=&quot;custom&quot;
        :beforeUpload=&quot;beforeUpload&quot;
        multiple
      >
        <t-button theme=&quot;primary&quot;>自定义上传</t-button>
      </t-upload>
      <div v-if=&quot;files &amp;&amp; files.length&quot; class='list-custom'>
        <ul>
          <li v-for=&quot;(item, index) in files&quot; :key=&quot;index&quot;>{{ item.name }}</li>
        </ul>
      </div>
    </div>
  </div>
</template>
<script>

export default {
  data() {
    return {
      tips: '上传文件大小在 5M 以内',
      files: [],
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },

    beforeUpload(file) {
      if (file.size > 5 * 1024 * 1024) {
        this.$message.warning('上传的图片不能大于5M');
        return false;
      }
      return true;
    },
  },
};
</script>
<style scoped>
.tdesign-demo-upload .list-custom {
  font-size: 13px;
}
.tdesign-demo-upload li {
  margin: 16px 0;
}
</style>
" demo-name="single-custom" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;tdesign-demo-upload&quot;>
    <div>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        :tips=&quot;tips&quot;
        v-model=&quot;files&quot;
        @fail=&quot;handleFail&quot;
        @success=&quot;tips = ''&quot;
        theme=&quot;custom&quot;
        :beforeUpload=&quot;beforeUpload&quot;
        multiple
      >
        <t-button theme=&quot;primary&quot;>自定义上传</t-button>
      </t-upload>
      <div v-if=&quot;files &amp;&amp; files.length&quot; class='list-custom'>
        <ul>
          <li v-for=&quot;(item, index) in files&quot; :key=&quot;index&quot;>{{ item.name }}</li>
        </ul>
      </div>
    </div>
  </div>
</template>
<script>

export default {
  data() {
    return {
      tips: '上传文件大小在 5M 以内',
      files: [],
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },

    beforeUpload(file) {
      if (file.size > 5 * 1024 * 1024) {
        this.$message.warning('上传的图片不能大于5M');
        return false;
      }
      return true;
    },
  },
};
</script>
<style scoped>
.tdesign-demo-upload .list-custom {
  font-size: 13px;
}
.tdesign-demo-upload li {
  margin: 16px 0;
}
</style>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div data-v-015bcb24="" class="tdesign-demo-upload"><div data-v-015bcb24=""><div data-v-015bcb24="" class="t-upload"><input type="file" multiple="multiple" accept="" hidden="hidden"><div class="t-upload__trigger"><button data-v-015bcb24="" type="button" class="t-button t-size-m t-button--variant-base t-button--theme-primary"><span class="t-button__text">自定义上传</span></button></div><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div><small class="t-upload__tips t-size-s">上传文件大小在 5M 以内</small></div><!----></div></div></div></td-doc-demo></div><h3 id="自定义拖拽上传">自定义拖拽上传 <a href="#自定义拖拽上传" class="header-anchor"></a></h3><div class="tdesign-demo-wrapper tdesign-demo-item--upload-custom-drag tdesign-demo-item--upload"><td-doc-demo code="<template>
  <div class=&quot;tdesign-demo-upload t-upload&quot;>
    <t-button variant='outline' @click=&quot;upload&quot;>
      <cloud-upload-icon slot='icon'/>点击上传
    </t-button>
    <br><br>
    <t-upload
      ref=&quot;upload&quot;
      v-model=&quot;files&quot;
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
      draggable
      theme=&quot;custom&quot;
      @fail=&quot;handleFail&quot;
      @success=&quot;handleSuccess&quot;
      @progress=&quot;onProgress&quot;
    >
      <template v-slot=&quot;params&quot;>
        <ul v-if=&quot;files &amp;&amp; files.length&quot;>
          <li v-for=&quot;file in files&quot; :key=&quot;file.name&quot;>{{ file.name }}</li>
        </ul>
        <template v-else>
          <p v-if=&quot;params &amp;&amp; params.dragActive&quot;>释放鼠标</p>
          <t-button v-else-if=&quot;progress < 1&quot;>自定义拖拽区域</t-button>
        </template>
        <t-button v-if=&quot;files &amp;&amp; files.length&quot; size=&quot;small&quot; style=&quot;margin-top: 36px&quot;>更换文件</t-button>
        <br><br>
        <!-- <span>数据状态：{{params}}</span> -->
      </template>
    </t-upload>
  </div>
</template>
<script>
import { CloudUploadIcon } from 'tdesign-icons-vue';

export default {
  components: { CloudUploadIcon },
  data() {
    return {
      files: [],
      progress: 0,
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
    handleSuccess({ file }) {
      this.$message.success(`文件 ${file.name} 上传成功`);
    },
    upload() {
      this.$refs.upload.triggerUpload();
    },
    onProgress(val) {
      console.log(val);
      this.progress = val;
    },
  },
};
</script>
" demo-name="custom-drag" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;tdesign-demo-upload t-upload&quot;>
    <t-button variant='outline' @click=&quot;upload&quot;>
      <cloud-upload-icon slot='icon'/>点击上传
    </t-button>
    <br><br>
    <t-upload
      ref=&quot;upload&quot;
      v-model=&quot;files&quot;
      action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
      draggable
      theme=&quot;custom&quot;
      @fail=&quot;handleFail&quot;
      @success=&quot;handleSuccess&quot;
      @progress=&quot;onProgress&quot;
    >
      <template v-slot=&quot;params&quot;>
        <ul v-if=&quot;files &amp;&amp; files.length&quot;>
          <li v-for=&quot;file in files&quot; :key=&quot;file.name&quot;>{{ file.name }}</li>
        </ul>
        <template v-else>
          <p v-if=&quot;params &amp;&amp; params.dragActive&quot;>释放鼠标</p>
          <t-button v-else-if=&quot;progress < 1&quot;>自定义拖拽区域</t-button>
        </template>
        <t-button v-if=&quot;files &amp;&amp; files.length&quot; size=&quot;small&quot; style=&quot;margin-top: 36px&quot;>更换文件</t-button>
        <br><br>
        <!-- <span>数据状态：{{params}}</span> -->
      </template>
    </t-upload>
  </div>
</template>
<script>
import { CloudUploadIcon } from 'tdesign-icons-vue';

export default {
  components: { CloudUploadIcon },
  data() {
    return {
      files: [],
      progress: 0,
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
    handleSuccess({ file }) {
      this.$message.success(`文件 ${file.name} 上传成功`);
    },
    upload() {
      this.$refs.upload.triggerUpload();
    },
    onProgress(val) {
      console.log(val);
      this.progress = val;
    },
  },
};
</script>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="tdesign-demo-upload t-upload"><button type="button" class="t-button t-size-m t-button--variant-outline t-button--theme-default"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-cloud-upload"><path fill="currentColor" d="M4.73 6.26l-.71.09A2.32 2.32 0 002 8.67c0 1.2.89 2.18 2 2.31v1a3.31 3.31 0 01-3-3.31 3.32 3.32 0 012.9-3.32A4.2 4.2 0 018 2c2 0 3.69 1.43 4.1 3.35 1.63.2 2.9 1.6 2.9 3.32a3.31 3.31 0 01-3 3.32v-1c1.11-.14 2-1.11 2-2.32 0-1.22-.9-2.2-2.02-2.32l-.71-.09-.15-.7A3.2 3.2 0 008 3a3.2 3.2 0 00-3.12 2.56l-.15.7z" fill-opacity="0.9"></path><path fill="currentColor" d="M6.14 10.72L7.5 9.39l.03 5.12 1.01-.01-.03-5.1 1.37 1.34.72-.7-2.26-2.2a.5.5 0 00-.7 0l-2.22 2.18.72.7z" fill-opacity="0.9"></path></svg><span class="t-button__text">点击上传 </span></button><br><br><div class="t-upload"><input type="file" accept="" hidden="hidden"><div class="t-upload__dragger t-upload__dragger-center"><div class="t-upload__trigger"><button type="button" class="t-button t-size-m t-button--variant-base t-button--theme-primary"><span class="t-button__text">自定义拖拽区域</span></button><!----><br><br></div></div><div class="t-dialog__ctx t-dialog__ctx--fixed t-upload__dialog" style="display: none;"><div class="t-dialog__mask"></div><div class="t-dialog t-dialog--default t-dialog--top t-dialog__modal-default t-dialog--fixed" style="width: auto; top: 10%; transform: translate(-50%, 0px); transform-origin: 25% 25%; max-height: calc(90%);"><div class="t-dialog__header"></div><span class="t-dialog__close"><svg fill="none" viewBox="0 0 16 16" width="1em" height="1em" class="t-icon t-icon-close"><path fill="currentColor" d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z" fill-opacity="0.9"></path></svg></span><div class="t-dialog__body"><div class="t__dialog-body-img-box"><img src="" alt=""></div></div><div class="t-dialog__footer"></div></div></div></div></div></div></td-doc-demo></div><h3 id="输入框文件上传">输入框文件上传 <a href="#输入框文件上传" class="header-anchor"></a></h3><div class="tdesign-demo-wrapper tdesign-demo-item---single-input tdesign-demo-item--"><td-doc-demo code="<template>
  <div class=&quot;tdesign-demo-upload&quot;>
    <div style=&quot;width: 350px&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        :tips=&quot;tips&quot;
        v-model=&quot;files&quot;
        @fail=&quot;handleFail&quot;
        @success=&quot;onSuccess&quot;
        theme=&quot;file-input&quot;
        placeholder=&quot;未选择文件&quot;
      ></t-upload>
    </div>
  </div>
</template>
<script>

export default {
  data() {
    return {
      files: [],
      tips: '上传文件大小在 5M 以内',
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
    onSuccess() {
      this.tips = '';
    },
  },
};
</script>
" demo-name="single-input" language="markup" mode="auto"><div slot="action"><form method="post" action="https://stackblitz.com/run" target="_blank"><input type="hidden" name="project[files][src/demo.vue]" value="<template>
  <div class=&quot;tdesign-demo-upload&quot;>
    <div style=&quot;width: 350px&quot;>
      <t-upload
        action=&quot;https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo&quot;
        :tips=&quot;tips&quot;
        v-model=&quot;files&quot;
        @fail=&quot;handleFail&quot;
        @success=&quot;onSuccess&quot;
        theme=&quot;file-input&quot;
        placeholder=&quot;未选择文件&quot;
      ></t-upload>
    </div>
  </div>
</template>
<script>

export default {
  data() {
    return {
      files: [],
      tips: '上传文件大小在 5M 以内',
    };
  },
  methods: {
    handleFail({ file }) {
      this.$message.error(`文件 ${file.name} 上传失败`);
    },
    onSuccess() {
      this.tips = '';
    },
  },
};
</script>
"><input type="hidden" name="project[files][src/index.css]" value="
  /* 竖排展示 demo 行间距 16px */
  .tdesign-demo-block-column {
    display: flex;
    flex-direction: column;
    row-gap: 16px;
  }

  /* 竖排展示 demo 行间距 32px */
  .tdesign-demo-block-column-large {
    display: flex;
    flex-direction: column;
    row-gap: 32px;
  }

  /* 横排排展示 demo 列间距 16px */
  .tdesign-demo-block-row {
    display: flex;
    column-gap: 16px;
    align-items: center;
  }
"><input type="hidden" name="project[files][src/main.js]" value="
  import Vue from 'vue';
  import TDesign from 'tdesign-vue';

  // 引入组件库全局样式资源
  import 'tdesign-vue/es/style/index.css';
  import './index.css';
  import Demo from './demo.vue';

  Vue.use(TDesign);
  Vue.config.productionTip = false;

  new Vue({
    render: (h) => h(Demo),
  }).$mount('#app');
"><input type="hidden" name="project[files][index.html]" value="
  <div id=&quot;app&quot;></div>
  <script type=&quot;module&quot; src=&quot;/src/main.js&quot;></script>
"><input type="hidden" name="project[files][package.json]" value="{
  &quot;name&quot;: &quot;tdesign-vue-demo&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;serve&quot;: &quot;vite preview&quot;
  },
  &quot;dependencies&quot;: {
    &quot;tdesign-vue&quot;: &quot;0.35.0&quot;,
    &quot;tdesign-icons-vue&quot;: &quot;~0.0.8&quot;,
    &quot;vue&quot;: &quot;^2.6.14&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;vite&quot;: &quot;^2.7.6&quot;,
    &quot;vite-plugin-vue2&quot;: &quot;^1.9.0&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.6.14&quot;
  }
}"><input type="hidden" name="project[files][vite.config.js]" value="
  import { defineConfig } from 'vite';
  import { createVuePlugin } from 'vite-plugin-vue2';

  export default defineConfig({
    plugins: [
      createVuePlugin({ jsx: true }),
    ],
  });
"><input type="hidden" name="project[files][.stackblitzrc]" value="
  {
    &quot;installDependencies&quot;: true,
    &quot;startCommand&quot;: &quot;npm run dev&quot;
  }
"><input type="hidden" name="project[template]" value="node"><div class="action-online"><svg viewBox="0 0 28 28" height="20"><path fill="currentColor" d="M12.747 16.273h-7.46L18.925 1.5l-3.671 10.227h7.46L9.075 26.5l3.671-10.227z"></path></svg></div></form><div class="t-loading__parent"><div class="action-online"><svg fill="none" height="20" viewBox="0 0 23 23" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m11.5 11.6166v11.1704c.1945 0 .3223-.0422.4969-.1419l8.9445-5.1111c.3531-.2024.4971-.5158.4971-.9229v-10.36419c0-.2042-.043-.32636-.1422-.49691l-9.5102 5.3735c-.1769.1011-.2861.2893-.2861.4931zm4.9691 6.4143c0 .2839-.1064.4259-.3549.5679l-2.9815 1.7037c-.2129.1419-.4969.071-.4969-.213v-7.5957c0-.2032.1788-.4665.3549-.5679l6.8149-3.90429c.1893-.10894.3549.06554.3549.28395v4.04634c0 .2097-.0989.3982-.284.4969l-3.0524 1.6327c-.1851.0987-.355.2871-.355.4969z" fill="currentColor"></path><path d="m1.56152 16.611v-10.36416c0-.40759.21402-.7916.5679-.99383l8.66048-4.898146c.1866-.098883.4969-.141973.7099-.141973s.5415.052741.7099.141975l8.5895 4.898144c.1699.10042.4008.33172.4969.49692l-9.5124 5.39507c-.1769.1011-.2839.2931-.2839.4969v11.1451c-.1945 0-.3933-.0423-.5679-.142l-8.73149-5.0401c-.35389-.2023-.63889-.5863-.63889-.9939zm1.27778-8.30552v4.04632c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28395.142.35494.3549.35494.5679v2.8395c0 .2839.07099.4259.35494.5679l2.98148 1.7037c.28392.142.49692.071.49692-.213v-7.5956c0-.213-.071-.426-.3549-.5679l-6.67289-3.83338c-.21296-.14197-.49691-.07099-.49691.21296zm11.642-4.82716-2.6266 1.49074c-.2129.14198-.4969.14198-.7098 0l-2.62659-1.49074c-.17289-.09772-.39472-.09722-.5679 0l-3.26543 1.84568c-.28395.14198-.28395.42593 0 .5679l6.53082 3.76235c.1748.10006.3932.10006.5679 0l6.5309-3.76235c.213-.14197.284-.42592 0-.5679l-3.2654-1.84568c-.1732-.09722-.395-.09772-.5679 0z" fill="currentColor"></path></g></svg></div></div></div><div class="tdesign-demo-item__body"><div class="tdesign-demo-upload"><div style="width: 350px;"><div class="t-upload"><input type="file" accept="" hidden="hidden"><div class="t-upload__single t-upload__single-file-input"><div class="t-upload__single-input-preview t-input"><div class="t-input__inner t-upload__placeholder"><span class="t-upload__single-input-text">未选择文件</span></div></div><div class="t-upload__trigger"><button type="button" class="t-button t-size-m t-button--variant-outline t-button--theme-default"><span class="t-button__text">选择文件</span></button></div></div><small class="t-upload__tips t-size-s">上传文件大小在 5M 以内</small></div></div></div></div></td-doc-demo></div></div><td-contributors platform="web" framework="vue" component-name="upload"></td-contributors></div><div name="API" style="display: none;"><nav class="tdesign-toc_container"><ol class="tdesign-toc_list"><li class="tdesign-toc_list_item"><a href="#upload-props" class="tdesign-toc_list_item_a">Upload Props</a></li><li class="tdesign-toc_list_item"><a href="#upload-events" class="tdesign-toc_list_item_a">Upload Events</a></li><li class="tdesign-toc_list_item"><a href="#uploadfile" class="tdesign-toc_list_item_a">UploadFile</a></li></ol></nav><h3 id="upload-props">Upload Props <a href="#upload-props" class="header-anchor"></a></h3><table><thead><tr><th>名称</th><th>类型</th><th>默认值</th><th>说明</th><th>必传</th></tr></thead><tbody><tr><td>accept</td><td>String</td><td>-</td><td>接受上传的文件类型，<a href="https://www.w3schools.com/tags/att_input_accept.asp" target="_blank" rel="noopener noreferrer">查看 W3C示例</a>，<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/Input/file" target="_blank" rel="noopener noreferrer">查看 MDN 示例</a></td><td>N</td></tr><tr><td>action</td><td>String</td><td>-</td><td>上传接口</td><td>N</td></tr><tr><td>autoUpload</td><td>Boolean</td><td>true</td><td>是否选取文件后自动上传</td><td>N</td></tr><tr><td>beforeUpload</td><td>Function</td><td>-</td><td>上传文件之前的钩子，参数为上传的文件，返回值决定是否上传。TS 类型：<code>(file: File | UploadFile) =&gt; boolean | Promise&lt;boolean&gt;</code></td><td>N</td></tr><tr><td>data</td><td>Object</td><td>-</td><td>上传文件时所需的额外数据。TS 类型：<code>Record&lt;string, any&gt; | ((file: File) =&gt; Record&lt;string, any&gt;)</code></td><td>N</td></tr><tr><td>default</td><td>String / Slot / Function</td><td>-</td><td>触发上传的内容，同 trigger。TS 类型：<code>string | TNode</code>。<a href="https://github.com/Tencent/tdesign-vue/blob/develop/src/common.ts" target="_blank" rel="noopener noreferrer">通用类型定义</a></td><td>N</td></tr><tr><td>disabled</td><td>Boolean</td><td>false</td><td>是否禁用</td><td>N</td></tr><tr><td>draggable</td><td>Boolean</td><td>false</td><td>是否启用拖拽上传</td><td>N</td></tr><tr><td>files</td><td>Array</td><td>-</td><td>已上传文件列表。支持语法糖 <code>v-model</code>。TS 类型：<code>Array&lt;UploadFile&gt;</code></td><td>N</td></tr><tr><td>defaultFiles</td><td>Array</td><td>-</td><td>已上传文件列表。非受控属性。TS 类型：<code>Array&lt;UploadFile&gt;</code></td><td>N</td></tr><tr><td>format</td><td>Function</td><td>-</td><td>文件上传前转换文件数据。TS 类型：<code>(file: File) =&gt; UploadFile</code></td><td>N</td></tr><tr><td>formatResponse</td><td>Function</td><td>-</td><td>用于格式化文件上传后的响应数据。error 用于显示错误提示，如果 error 值为真，组件会判定为上传失败；url 用于上传文件/图片地址。。TS 类型：<code>(response: any, context: FormatResponseContext) =&gt; ResponseType </code> <code>type ResponseType = { error?: string; url?: string } &amp; Record&lt;string, any&gt;</code> <code>interface FormatResponseContext { file: UploadFile }</code>。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a></td><td>N</td></tr><tr><td>headers</td><td>Object</td><td>-</td><td>设置上传的请求头部。TS 类型：<code>{[key: string]: string}</code></td><td>N</td></tr><tr><td>max</td><td>Number</td><td>0</td><td>用于控制文件上传数量，值为 0 则不限制</td><td>N</td></tr><tr><td>method</td><td>String</td><td>POST</td><td>HTTP 请求类型。可选项：POST/GET/PUT/OPTION</td><td>N</td></tr><tr><td>multiple</td><td>Boolean</td><td>false</td><td>是否支持多选文件</td><td>N</td></tr><tr><td>name</td><td>String</td><td>'file'</td><td>文件上传时的名称</td><td>N</td></tr><tr><td>placeholder</td><td>String</td><td>-</td><td>占位符</td><td>N</td></tr><tr><td>requestMethod</td><td>Function</td><td>-</td><td>自定义上传方法。返回值 status 表示上传成功或失败，error 表示上传失败的原因，response 表示请求上传成功后的返回数据，response.url 表示上传成功后的图片地址。示例一：<code>{ status: 'fail', error: '上传失败', response }</code>。示例二：<code>{ status: 'success', response: { url: 'https://tdesign.gtimg.com/site/avatar.jpg' } }</code>。TS 类型：<code>(files: UploadFile) =&gt; Promise&lt;RequestMethodResponse&gt;</code> <code>interface RequestMethodResponse { status: 'success' | 'fail'; error?: string; response: { url?: string; [key: string]: any } }</code>。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a></td><td>N</td></tr><tr><td>showUploadProgress</td><td>Boolean</td><td>true</td><td>是否显示上传进度</td><td>N</td></tr><tr><td>sizeLimit</td><td>Number / Object</td><td>-</td><td>图片文件大小限制，单位 KB。可选单位有：<code>'B' | 'KB' | 'MB' | 'GB'</code>。示例一：<code>1000</code>。示例二：<code>{ size: 2, unit: 'MB', message: '图片大小不超过 {sizeLimit} MB' }</code>。TS 类型：<code>number | SizeLimitObj</code> <code>interface SizeLimitObj { size: number; unit: SizeUnit ; message?: string }</code> <code>type SizeUnitArray = ['B', 'KB', 'MB', 'GB']</code> <code>type SizeUnit = SizeUnitArray[number]</code>。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a></td><td>N</td></tr><tr><td>theme</td><td>String</td><td>file</td><td>组件风格。custom 表示完全自定义风格；file 表示默认文件上传风格；file-input 表示输入框形式的文件上传；file-flow 表示文件批量上传；image 表示默认图片上传风格；image-flow 表示图片批量上传。可选项：custom/file/file-input/file-flow/image/image-flow</td><td>N</td></tr><tr><td>tips</td><td>String</td><td>-</td><td>小文本提示</td><td>N</td></tr><tr><td>trigger</td><td>String / Slot / Function</td><td>-</td><td>触发上传的内容。TS 类型：<code>string | TNode&lt;TriggerContext&gt;</code> <code>interface TriggerContext { dragActive?: boolean; uploadingFile?: UploadFile | Array&lt;UploadFile&gt; }</code>。<a href="https://github.com/Tencent/tdesign-vue/blob/develop/src/common.ts" target="_blank" rel="noopener noreferrer">通用类型定义</a>。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a></td><td>N</td></tr><tr><td>useMockProgress</td><td>Boolean</td><td>true</td><td>是否显示为模拟进度。上传进度有模拟进度和真实进度两种。一般大小的文件上传，真实的上传进度只有 0 和 100，不利于交互呈现，因此组件内置模拟上传进度。真实上传进度一般用于大文件上传</td><td>N</td></tr><tr><td>withCredentials</td><td>Boolean</td><td>false</td><td>上传请求时是否携带 cookie</td><td>N</td></tr><tr><td>onCancelUpload</td><td>Function</td><td></td><td>TS 类型：<code>() =&gt; void</code><br>点击「取消上传」时触发</td><td>N</td></tr><tr><td>onChange</td><td>Function</td><td></td><td>TS 类型：<code>(value: Array&lt;UploadFile&gt;, context: UploadChangeContext) =&gt; void</code><br>已上传文件列表发生变化时触发。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface UploadChangeContext { e?: MouseEvent | ProgressEvent; response?: any; trigger: string; index?: number; file?: UploadFile }</code><br></td><td>N</td></tr><tr><td>onDragenter</td><td>Function</td><td></td><td>TS 类型：<code>(context: { e: DragEvent }) =&gt; void</code><br>进入拖拽区域时触发</td><td>N</td></tr><tr><td>onDragleave</td><td>Function</td><td></td><td>TS 类型：<code>(context: { e: DragEvent }) =&gt; void</code><br>拖拽结束时触发</td><td>N</td></tr><tr><td>onFail</td><td>Function</td><td></td><td>TS 类型：<code>(options: { e: ProgressEvent; file: UploadFile }) =&gt; void</code><br>上传失败后触发</td><td>N</td></tr><tr><td>onPreview</td><td>Function</td><td></td><td>TS 类型：<code>(options: { file: UploadFile; e: MouseEvent }) =&gt; void</code><br>点击预览时触发</td><td>N</td></tr><tr><td>onProgress</td><td>Function</td><td></td><td>TS 类型：<code>(options: ProgressContext) =&gt; void</code><br>上传进度变化时触发，真实进度和模拟进度都会触发。type 值为 real 表示真实上传进度，type 值为 mock 表示模拟上传进度。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface ProgressContext { e?: ProgressEvent; file: UploadFile; percent: number; type: UploadProgressType }</code><br><br><code>type UploadProgressType = 'real' | 'mock'</code><br></td><td>N</td></tr><tr><td>onRemove</td><td>Function</td><td></td><td>TS 类型：<code>(context: UploadRemoveContext) =&gt; void</code><br>移除文件时触发。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface UploadRemoveContext { index?: number; file?: UploadFile; e: MouseEvent }</code><br></td><td>N</td></tr><tr><td>onSuccess</td><td>Function</td><td></td><td>TS 类型：<code>(context: SuccessContext) =&gt; void</code><br>上传成功后触发。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface SuccessContext { e?: ProgressEvent; file?: UploadFile; fileList?: UploadFile[]; response: any }</code><br></td><td>N</td></tr></tbody></table><h3 id="upload-events">Upload Events <a href="#upload-events" class="header-anchor"></a></h3><table><thead><tr><th>名称</th><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>cancel-upload</td><td>-</td><td>点击「取消上传」时触发</td></tr><tr><td>change</td><td><code>(value: Array&lt;UploadFile&gt;, context: UploadChangeContext)</code></td><td>已上传文件列表发生变化时触发。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface UploadChangeContext { e?: MouseEvent | ProgressEvent; response?: any; trigger: string; index?: number; file?: UploadFile }</code><br></td></tr><tr><td>dragenter</td><td><code>(context: { e: DragEvent })</code></td><td>进入拖拽区域时触发</td></tr><tr><td>dragleave</td><td><code>(context: { e: DragEvent })</code></td><td>拖拽结束时触发</td></tr><tr><td>fail</td><td><code>(options: { e: ProgressEvent; file: UploadFile })</code></td><td>上传失败后触发</td></tr><tr><td>preview</td><td><code>(options: { file: UploadFile; e: MouseEvent })</code></td><td>点击预览时触发</td></tr><tr><td>progress</td><td><code>(options: ProgressContext)</code></td><td>上传进度变化时触发，真实进度和模拟进度都会触发。type 值为 real 表示真实上传进度，type 值为 mock 表示模拟上传进度。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface ProgressContext { e?: ProgressEvent; file: UploadFile; percent: number; type: UploadProgressType }</code><br><br><code>type UploadProgressType = 'real' | 'mock'</code><br></td></tr><tr><td>remove</td><td><code>(context: UploadRemoveContext)</code></td><td>移除文件时触发。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface UploadRemoveContext { index?: number; file?: UploadFile; e: MouseEvent }</code><br></td></tr><tr><td>success</td><td><code>(context: SuccessContext)</code></td><td>上传成功后触发。<a href="https://github.com/Tencent/tdesign-vue/tree/develop/src/upload/type.ts" target="_blank" rel="noopener noreferrer">详细类型定义</a>。<br><code>interface SuccessContext { e?: ProgressEvent; file?: UploadFile; fileList?: UploadFile[]; response: any }</code><br></td></tr></tbody></table><h3 id="uploadfile">UploadFile <a href="#uploadfile" class="header-anchor"></a></h3><table><thead><tr><th>名称</th><th>类型</th><th>默认值</th><th>说明</th><th>必传</th></tr></thead><tbody><tr><td>lastModified</td><td>Number</td><td>-</td><td>上一次变更的时间</td><td>N</td></tr><tr><td>name</td><td>String</td><td>-</td><td>文件名称</td><td>N</td></tr><tr><td>percent</td><td>Number</td><td>-</td><td>下载进度</td><td>N</td></tr><tr><td>raw</td><td>Object</td><td>-</td><td>原始文件对象。TS 类型：<code>File</code></td><td>N</td></tr><tr><td>response</td><td>Object</td><td>-</td><td>上传接口返回的数据</td><td>N</td></tr><tr><td>size</td><td>Number</td><td>-</td><td>文件大小</td><td>N</td></tr><tr><td>status</td><td>String</td><td>-</td><td>文件上传状态：上传成功，上传失败，上传中，等待上传。TS 类型：<code> 'success' | 'fail' | 'progress' | 'waiting'</code></td><td>N</td></tr><tr><td>type</td><td>String</td><td>-</td><td>文件类型</td><td>N</td></tr><tr><td>url</td><td>String</td><td>-</td><td>文件上传成功后的下载/访问地址</td><td>N</td></tr></tbody></table></div><div name="DESIGN" style="display: none;"><nav class="tdesign-toc_container"><ol class="tdesign-toc_list"><li class="tdesign-toc_list_item"><a href="#何时使用" class="tdesign-toc_list_item_a">何时使用</a></li><li class="tdesign-toc_list_item"><a href="#常见用法" class="tdesign-toc_list_item_a">常见用法</a><ol class="tdesign-toc_list"></ol></li></ol></nav><h3 id="何时使用">何时使用 <a href="#何时使用" class="header-anchor"></a></h3><p>需要对文件进行导入或上传时。</p><h3 id="常见用法">常见用法 <a href="#常见用法" class="header-anchor"></a></h3><h5 id="上传组件需要呈现清晰的使用状态，包含初始状态、拖拽状态、上传过程、上传成功和上传失败等。">上传组件需要呈现清晰的使用状态，包含初始状态、拖拽状态、上传过程、上传成功和上传失败等。 <a href="#上传组件需要呈现清晰的使用状态，包含初始状态、拖拽状态、上传过程、上传成功和上传失败等。" class="header-anchor"></a></h5><div class="legend"><div class="item"><img src="https://oteam-tdesign-1258344706.cos.ap-guangzhou.myqcloud.com/site/design/%E4%B8%8A%E4%BC%A01@2x.png"><em>图示：初始状态</em></div><div class="item"><img src="https://oteam-tdesign-1258344706.cos.ap-guangzhou.myqcloud.com/site/design/%E4%B8%8A%E4%BC%A0-2@2x.png"><em>图示：拖拽状态</em></div><div class="item"><img src="https://oteam-tdesign-1258344706.cos.ap-guangzhou.myqcloud.com/site/design/%E4%B8%8A%E4%BC%A0-3@2x.png"><em>图示：上传过程</em></div><div class="item"><img src="https://oteam-tdesign-1258344706.cos.ap-guangzhou.myqcloud.com/site/design/%E4%B8%8A%E4%BC%A0-4@2x.png"><em>图示：上传成功</em></div><div class="item"><img src="https://oteam-tdesign-1258344706.cos.ap-guangzhou.myqcloud.com/site/design/upload-5@2x.png"><em>图示：上传失败</em></div></div></div><div style="margin-top: 48px;"><td-doc-history time="1645182911169"></td-doc-history></div><td-doc-footer slot="doc-footer" platform="web"></td-doc-footer></td-doc-content></td-doc-layout><div data-v-419dec38="" class="ReloadPrompt-container"><!----></div></div>
    
  

<script async="" id="__td_aegis__" type="text/javascript" src="https://cdn-go.cn/aegis/aegis-sdk/latest/aegis.min.js"></script><div id="nprogress" style="transition: none 0s ease 0s; opacity: 1;"><div class="bar" role="bar" style="transform: translate3d(0%, 0px, 0px); transition: all 200ms ease 0s;"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div></div></body></html>