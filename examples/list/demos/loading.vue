<template>
  <div>
    <t-radio-group v-model="asyncLoadingRadio">
      <t-radio-button value="load-more">åŠ è½½æ›´å¤š</t-radio-button>
      <t-radio-button value="loading">åŠ è½½ä¸­</t-radio-button>
      <t-radio-button value="loading-custom">è‡ªå®šä¹‰åŠ è½½æ›´å¤š</t-radio-button>
      <t-radio-button value="">åŠ è½½å®Œæˆ</t-radio-button>
    </t-radio-group>

    <t-list :async-loading="asyncLoading"  @load-more="loadMore" split>
      <t-list-item v-for="i in listCount" :key="i">
        <t-list-item-meta :image="imageUrl" title="åˆ—è¡¨ä¸»å†…å®¹" description="åˆ—è¡¨å†…å®¹åˆ—è¡¨å†…å®¹"></t-list-item-meta>
      </t-list-item>
    </t-list>
  </div>
</template>

<script>
export default {
  data() {
    return {
      asyncLoadingRadio: 'load-more',
      asyncLoading: 'load-more',
      listCount: 3,
      imageUrl: 'https://tdesign.gtimg.com/list-icon.png',
    };
  },
  watch: {
    // ä¹Ÿå¯ä»¥ä½¿ç”¨æ’æ§½è‡ªå®šä¹‰åŠ è½½å†…å®¹
    asyncLoadingRadio(val) {
      if (val === 'loading-custom') {
        this.asyncLoading = () => <div>ğŸ˜Š æ²¡æœ‰æ›´å¤šæ•°æ®äº† ğŸ˜Š</div>;
      } else {
        this.asyncLoading = this.asyncLoadingRadio;
      }
    },
  },
  methods: {
    // ç‚¹å‡»åŠ è½½æ›´å¤šï¼ŒçŠ¶æ€åˆ‡æ¢ä¸ºã€ŒåŠ è½½ä¸­ã€
    loadMore() {
      this.asyncLoadingRadio = 'loading';
    },
  },
};
</script>
